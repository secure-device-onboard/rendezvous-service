node('ubuntu18.04-OnDemand') {

  // Stage for checking out the sourceCode
  stage('scm checkout'){
    cleanWs()
    checkout scm
  }

  // Stage to build the project
  stage('build rendezvous package'){
    sh './build.sh'
    print "Archive the artifacts"
    sh 'tar -czvf rendezvous-service.tar.gz demo/'
    archiveArtifacts artifacts: 'rendezvous-service.tar.gz', fingerprint: true, allowEmptyArchive: false
  }
}
